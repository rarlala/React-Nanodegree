# Navite Features



## Introduction

ìš°ë¦¬ê°€ ì•„ì§ í•˜ì§€ ì•Šì€ í•œê°€ì§€ëŠ” React Native APIë¥¼ í™œìš©í•˜ëŠ” ê²ƒì´ë‹¤. í•´ë‹¹ ë‚´ìš©ì„ í•™ìŠµí•´ë³´ì.



- `components/Live.js`

```react
import React, { Component } from 'react';
import { View, Text, ActivityIndicator } from 'react-native';

class Live extends Component {
  state = {
    coords: null,
    status: null,
    direction: '',
  };

  render() {
    const { status, coords, direction } = this.state;

    if (status === null) {
      return <ActivityIndicator style={{ marginTop: 30 }} />;
    }

    if (status === 'denied') {
      <View>
        <Text>Denied</Text>
      </View>;
    }

    if (status === 'undetermined') {
      <View>
        <Text>undetermined</Text>
      </View>;
    }

    return (
      <View>
        <Text>Live</Text>
      </View>
    );
  }
}

export default Live;
```

- `App.js`

```react
import Live from './components/Live';

// í•´ë‹¹ ë¶€ë¶„ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œ ìˆ˜ì •
<NavigationContainer>
    <Tabs.Navigator
        initialRouteName="AddEntry"
        screenOptions={({ route }) => ({
            tabBarIcon: () => {
                let icon;
                if (route.name === 'AddEntry') {
                    icon = (
                        <FontAwesome name="plus-square" size={30} color={white} />
                    );
                } else if (route.name === 'History') {
                    icon = (
                        <FontAwesome name="ios-bookmarks" size={30} color={white} />
                    );
                } else if (route.name === 'Live') {
                    icon = (
                        <FontAwesome
                            name="ios-speedometer"
                            size={30}
                            color={white}
                            />
                    );
                }
                return icon;
            },
        })}
        tabBarOptions={{
            activeTintColor: Platform.OS === 'ios' ? purple : white,
                style: {
                    height: 80,
                        backgroundColor: Platform.OS === 'ios' ? white : purple,
                            shadowColor: 'rgba(0, 0, 0, 0.24)',
                                shadowOffset: {
                                    width: 0,
                                        height: 3,
                                },
                                    shadowRadius: 6,
                                        shadowOpacity: 1,
                                },
                                }}
        >
        <Tabs.Screen name="History" component={HistoryStack} />
        <Tabs.Screen name="AddEntry" component={AddEntry} />
        <Tabs.Screen name="Live" component={Live} />
    </Tabs.Navigator>
</NavigationContainer>
```





## Geolocation

ìš°ë¦¬ê°€ ë§Œë“¤ê³ ìí•˜ëŠ” ì•±ì—ì„œ ì‚¬ìš©ìëŠ” í˜„ì¬ ì†ë„, ê³ ë„ ë° ë°©í–¥ì„ ì¶”ì í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ ìœ„í•´ ê¸°ê¸° ìœ„ì¹˜ ì •ë³´ë¥¼ êµ¬ë…í•´ì•¼í•œë‹¤. ìš´ ì¢‹ê²Œë„ ExpoëŠ” ìœ„ì¹˜ API(`getCurrentPositionAsync()`)ë¥¼ ì œê³µí•œë‹¤. 



```
import { Location } from 'expo';
```

ì¼ë°˜ì ìœ¼ë¡œ ìœ„ì¹˜ ì„œë¹„ìŠ¤ë¥¼ ì²˜ë¦¬ í•  ë•Œ í•„ìš”í•œ ë‘ ê°€ì§€ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ê°€ ìˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìì˜ í˜„ì¬ ìœ„ì¹˜ë¥¼ ê°€ì ¸ ì˜¤ê±°ë‚˜ ì‚¬ìš©ìì˜ í˜„ì¬ ìœ„ì¹˜ë¥¼ ë³´ê³  ì—…ë°ì´íŠ¸í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. Expoì˜ Location ì†ì„±ì€ `getCurrentPositionAsync` ë° `watchPositionAsync`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ëŸ¬í•œ ì˜µì…˜ì„ ëª¨ë‘ ì œê³µí•©ë‹ˆë‹¤.

`getCurrentPositionAsync`ëŠ” í–¥í›„ ì—…ë°ì´íŠ¸ë¥¼ ë³´ì§€ ì•Šê³  ì¥ì¹˜ì˜ í˜„ì¬ ìœ„ì¹˜ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. `watchPositionAsync`ëŠ” ì¥ì¹˜ì˜ í˜„ì¬ ìœ„ì¹˜ë¥¼ ê°€ì ¸ ì˜¤ì§€ë§Œ ìœ„ì¹˜ ì—…ë°ì´íŠ¸ë„ êµ¬ë…í•©ë‹ˆë‹¤. ì´ë ‡ê²Œí•˜ë©´ í•´ë‹¹ ì¥ì¹˜ê°€ ìœ„ì¹˜ë¥¼ ì´ë™í•˜ë©´ ì•Œë¦¼ì„ ë°›ìŠµë‹ˆë‹¤.

Expoì˜ Location ì†ì„±ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ì „ì²´ ì„¤ëª…ì„œë¥¼ ë³´ë ¤ë©´ [Location](https://docs.expo.io/versions/latest/sdk/location.html)ì„ ë°©ë¬¸í•˜ì‹­ì‹œì˜¤.



> ğŸ’¡ Geolocation Tips ğŸ’¡
>
> ì‚¬ìš©ìì˜ ê¶Œí•œì´ í•„ìš”í•œ ê¸°ëŠ¥ì„ ë‹¤ë£° ë•Œë§ˆë‹¤ ì œëŒ€ë¡œ ì‘ë™í•˜ë ¤ë©´ í‘œì‹œ ë  ìˆ˜ ìˆëŠ” ëª¨ë“  ë‹¤ë¥¸ UI ì˜µì…˜ì„ ê³ ë ¤í•´ì•¼í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìì˜ ìœ„ì¹˜ë¥¼ ë‹¤ë£° ë•Œ ê´€ë¦¬í•´ì•¼ í•  ì„¸ ê°€ì§€ ì‹œë‚˜ë¦¬ì˜¤ê°€ ìˆìŠµë‹ˆë‹¤.
>
> 1. ì‚¬ìš©ìëŠ” ìì‹ ì˜ ìœ„ì¹˜ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤ (ê°€ì¥ ì¢‹ì€ ì‹œë‚˜ë¦¬ì˜¤). 
> 2. ì‚¬ìš©ìëŠ” ìì‹ ì˜ ìœ„ì¹˜ì— ëŒ€í•œ ê¶Œí•œì„ ê±°ë¶€í•˜ê±°ë‚˜ ë¶€ì—¬í•˜ì§€ ì•Šê¸°ë¡œ ê²°ì •í•©ë‹ˆë‹¤. 
> 3. ì‚¬ìš©ìê°€ ìì‹ ì˜ ìœ„ì¹˜ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ë¶€ì—¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
>
> ì´ìƒì ì¸ ì„¸ê³„ì—ì„œ ì‚¬ìš©ìëŠ” í•­ìƒ ì›í•˜ëŠ”ëŒ€ë¡œ ê¶Œí•œì„ ë¶€ì—¬í•˜ì§€ë§Œ í•­ìƒ ê·¸ëŸ° ê²ƒì€ ì•„ë‹ˆë©° UI ê°œë°œìë¡œì„œ ê·¸ ìˆœê°„ì„ ì ì ˆíˆ ê³„íší•´ì•¼í•©ë‹ˆë‹¤.



ìš°ì„  ì‘ì—…ì„ í•˜ê¸° ì „ ìŠ¤íƒ€ì¼ë§ë¶€í„° ì ìš©í•´ì£¼ì—ˆë‹¤.

- `Live.js`

```react
import React, { Component } from 'react';
import {
  View,
  Text,
  ActivityIndicator,
  TouchableOpacity,
  StyleSheet,
} from 'react-native';
import { Foundation } from '@expo/vector-icons';
import { purple, white } from '../utils/colors';

class Live extends Component {
  state = {
    coords: null,
    status: 'granted',
    direction: '',
  };

  askPermission = () => {};

  render() {
    const { status, coords, direction } = this.state;

    if (status === null) {
      return <ActivityIndicator style={{ marginTop: 30 }} />;
    }

    if (status === 'denied') {
      return (
        <View style={styles.center}>
          <Foundation name="alert" size={20}>
            <Text>You denied your location</Text>
          </Foundation>
        </View>
      );
    }

    if (status === 'undetermined') {
      return (
        <View style={styles.center}>
          <Foundation name="alert" size={50} />
          <Text>You need to enable location services for this app</Text>
          <TouchableOpacity onPress={this.askPermission} style={styles.button}>
            <Text style={styles.buttonText}>Enable</Text>
          </TouchableOpacity>
        </View>
      );
    }

    return (
      <View style={styles.container}>
        <View style={styles.directionContainer}>
          <Text style={styles.header}>You're Heading</Text>
          <Text style={styles.direction}>North</Text>
        </View>
        <View style={styles.metricContainer}>
          <View style={styles.metric}>
            <Text style={[styles.header, { color: white }]}>Altitude</Text>
            <Text style={[styles.subHeader, { color: white }]}>{200} feet</Text>
          </View>
          <View style={styles.metric}>
            <Text style={[styles.header, { color: white }]}>Speed</Text>
            <Text style={[styles.subHeader, { color: white }]}>{300} MPH</Text>
          </View>
        </View>
      </View>
    );
  }
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'space-between',
  },
  center: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    marginLeft: 30,
    marginRight: 30,
  },
  button: {
    padding: 10,
    backgroundColor: purple,
    alignSelf: 'center',
    borderRadius: 5,
    margin: 20,
  },
  buttonText: {
    color: white,
    fontSize: 20,
  },
  directionContainer: {
    flex: 1,
    justifyContent: 'center',
  },
  header: {
    fontSize: 35,
    textAlign: 'center',
  },
  direction: {
    color: purple,
    fontSize: 120,
    textAlign: 'center',
  },
  metricContainer: {
    flexDirection: 'row',
    justifyContent: 'space-around',
    backgroundColor: purple,
  },
  metric: {
    flex: 1,
    paddingTop: 15,
    paddingBottom: 15,
    backgroundColor: 'rgba(255, 255, 255, 0.1)',
    marginTop: 20,
    marginBottom: 20,
    marginLeft: 10,
    marginRight: 10,
  },
  subHeader: {
    fontSize: 25,
    textAlign: 'center',
    marginTop: 5,
  },
});

export default Live;
```



ì´ì œ ì‚¬ìš©ìì—ê²Œ ê¶Œí•œì„ ìš”ì²­í•˜ê³ , Locationì„ í‘œì‹œí•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í•´ë³´ì.

- `Live.js`

```react
import React, { Component } from 'react';
import {
  View,
  Text,
  ActivityIndicator,
  TouchableOpacity,
  StyleSheet,
} from 'react-native';
import { Foundation } from '@expo/vector-icons';
import { purple, white } from '../utils/colors';

import * as Location from 'expo-location';
import * as Permissions from 'expo-permissions';
import { calculateDirection } from '../utils/helpers';

class Live extends Component {
  state = {
    coords: null,
    status: 'granted',
    direction: '',
  };

  componentDidMount() {
    Permissions.getAsync(Permissions.LOCATION).then(({ status }) => {
      if (status === 'granted') {
        return this.setLocation();
      }

      this.setState(() => ({ status })).catch((error) => {
        console.warn('Error getting Location permission: ', error);
        this.setState(() => ({ status: 'undetermined' }));
      });
    });
  }

  askPermission = () => {};

  setLocation = () => {
    Location.watchPositionAsync(
      {
        enableHighAccuracy: true,
        timeInterval: 1,
        distanceInterval: 1,
      },
      ({ coords }) => {
        const newDirection = calculateDirection(coords.heading);
        const { direction } = this.state;
        this.setState(() => ({
          coords,
          status: 'granted',
          direction: newDirection,
        }));
      }
    );
  };

  render() {
    const { status, coords, direction } = this.state;

    if (status === null) {
      return <ActivityIndicator style={{ marginTop: 30 }} />;
    }

    if (status === 'denied') {
      return (
        <View style={styles.center}>
          <Foundation name="alert" size={20}>
            <Text>You denied your location</Text>
          </Foundation>
        </View>
      );
    }

    if (status === 'undetermined') {
      return (
        <View style={styles.center}>
          <Foundation name="alert" size={50} />
          <Text>You need to enable location services for this app</Text>
          <TouchableOpacity onPress={this.askPermission} style={styles.button}>
            <Text style={styles.buttonText}>Enable</Text>
          </TouchableOpacity>
        </View>
      );
    }

    return (
      <View style={styles.container}>
        <View style={styles.directionContainer}>
          <Text style={styles.header}>You're Heading</Text>
          <Text style={styles.direction}>North</Text>
        </View>
        <View style={styles.metricContainer}>
          <View style={styles.metric}>
            <Text style={[styles.header, { color: white }]}>Altitude</Text>
            <Text style={[styles.subHeader, { color: white }]}>{200} feet</Text>
          </View>
          <View style={styles.metric}>
            <Text style={[styles.header, { color: white }]}>Speed</Text>
            <Text style={[styles.subHeader, { color: white }]}>{300} MPH</Text>
          </View>
        </View>
      </View>
    );
  }
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'space-between',
  },
  center: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    marginLeft: 30,
    marginRight: 30,
  },
  button: {
    padding: 10,
    backgroundColor: purple,
    alignSelf: 'center',
    borderRadius: 5,
    margin: 20,
  },
  buttonText: {
    color: white,
    fontSize: 20,
  },
  directionContainer: {
    flex: 1,
    justifyContent: 'center',
  },
  header: {
    fontSize: 35,
    textAlign: 'center',
  },
  direction: {
    color: purple,
    fontSize: 120,
    textAlign: 'center',
  },
  metricContainer: {
    flexDirection: 'row',
    justifyContent: 'space-around',
    backgroundColor: purple,
  },
  metric: {
    flex: 1,
    paddingTop: 15,
    paddingBottom: 15,
    backgroundColor: 'rgba(255, 255, 255, 0.1)',
    marginTop: 20,
    marginBottom: 20,
    marginLeft: 10,
    marginRight: 10,
  },
  subHeader: {
    fontSize: 25,
    textAlign: 'center',
    marginTop: 5,
  },
});

export default Live;
```



ì´ì œ ì§„ì§œë¡œ ì‚¬ìš©ìì—ê²Œ ê¶Œí•œì„ ìš”ì²­í•˜ëŠ” ë°©ë²•ì„ ë°°ì›Œë³´ì.

```bash
$ expo install expo-location
$ expo install expo-permissions
```



- `Live.js`

`askPermission()`ì— ì´ì–´ ì‘ì„±í•´ë³´ì.

```react
// í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±
componentDidMount () {
    this.askPermission()
}

askPermission = () => {
    Permissions.askAsync(Permissions.LOCATION)
        .then(({ status }) => {
        if (status === 'granted') {
            return this.setLocation();
        }
        this.setState(() => ({ status }));
    })
        .catch((error) =>
               console.warn('error asking Location permission: ', error)
              );
};
```

```react
// ì •ì  ë°ì´í„°ê°€ ì•„ë‹Œ ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ ì¶œë ¥í•˜ë„ë¡ ì½”ë“œ ìˆ˜ì •
return (
    <View style={styles.container}>
        <View style={styles.directionContainer}>
            <Text style={styles.header}>You're Heading</Text>
            <Text style={styles.direction}>{direction}</Text>
        </View>
        <View style={styles.metricContainer}>
            <View style={styles.metric}>
                <Text style={[styles.header, { color: white }]}>Altitude</Text>
                <Text style={[styles.subHeader, { color: white }]}>
                    {Math.round(coords.altitude * 3.2808)} feet
                </Text>
            </View>
            <View style={styles.metric}>
                <Text style={[styles.header, { color: white }]}>Speed</Text>
                <Text style={[styles.subHeader, { color: white }]}>
                    {(coords.spaeed + 2.2369).toFixed(1)} MPH
                </Text>
            </View>
        </View>
    </View>
);
```

[ì½”ë“œ ì°¸ê³ ](https://github.com/udacity/reactnd-UdaciFitness-complete/commit/0b092b57b530fd6b2d9e9577dd299351e74df75f)

> ì°¸ê³ : ì´ ì»¤ë°‹ì—ì„œ ì½”ë“œì— ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ë¼ì´ë¸Œ ìƒíƒœì˜ coords ì†ì„±ì˜ ì´ˆê¸° ê°’ì„ nullì´ ì•„ë‹Œ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ì‹­ì‹œì˜¤.



> Which of the following methods would you use to subscribe to the user's location using Expo? Select all that apply.
>
> - `watchPositionAsync`
>
> ì‚¬ìš©ìì˜ ìœ„ì¹˜ë¥¼ êµ¬ë…í•˜ë ¤ë©´ Expoì˜ `Location.watchPositionAsync` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.`watchPositionAsync` ë©”ì„œë“œëŠ” ë‘ê°œì˜ ì¸ìˆ˜, ì¦‰ ì˜µì…˜ ê°œì²´ì™€ ìœ„ì¹˜ê°€ ë³€ê²½ ë  ë•Œë§ˆë‹¤ í˜¸ì¶œí•  ì½œë°±ì„ ì „ë‹¬í•©ë‹ˆë‹¤.



### Summary

ì´ ê°œë…ì—ì„œëŠ” expoì˜ Location ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ watchPositionAsyncë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìì˜ í˜„ì¬ ìœ„ì¹˜ë¥¼ ë³´ëŠ” ë°©ë²•ì„ ë³´ì•˜ìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ê³µì‹ ë¬¸ì„œë¥¼ í™•ì¸í•˜ì‹­ì‹œì˜¤.



## Animations



## Local Notifications



## Handling Photos



## App Store Preparation



## Lesson Summary



## Course Outro