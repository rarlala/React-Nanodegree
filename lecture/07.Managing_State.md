# React & Redux





## Introduction

이 과정의 목표는 애플리케이션에서 상태를 효과적으로 관리하는 더 많은 방법을 배우도록 돕는 것이다.  그래서 이 과정에서 Redux를 배워야한다. 과정이 약간 느려질 수 있으나, 그것은 의도적인 것이다. Redux는 배우기가 매우 어렵다. Redux 자체 문제가 아니고 일반적으로 Redux와 쌍을 이루는 모든 것 때문에 그렇다.

Redux를 배울 때 일어나는 일은 React와 함께 배우고, React-Router, React-Redux 바인딩 및 기타 헬퍼 라이브러리 등 모든 종류의 문제가 발생하기 때문에 어려움을 겪을 것이다.

그래서 우리는 이 문제를 해결하기 위해 점진적인 접근 방식을 취하겠다.

우선 Redux만 살펴 보는 것으로 시작하겠다. Redux 자체를 마스터하면 HTML과 JavaScript만으로 기본적인 UI를 추가하겠다. 그런 다음 Redux를 간단한 UI에 연결하는 것이 편해질 때 UI를 React로 교체하고 이 두개가 어떻게 협력하는지 배울 것이다.

그런 다음 React와 Redux를 결합할 때 몇가지 일반적인 문제점을 살펴보겠다. React-Redux 바인딩이 어떻게 이러한 어려움을 해결하는데 도움이 되는지 배운다.

마지막으로 Create React App을 사용하여 실제 React and Redux 앱이 어떻게 구축되는지 확인한다.



의심할 여지없이 Redux와 Redux 생태계는 당신에게 강력한 기술이 될 것이다. 그러나 초보자에게는 해당 주제가 다루기 힘든 영역이 될 수 있다. 그래서 Redux 학습 과정을 다음과 같은 강의로 나누었다.



- **Lesson 1 - Managing State**
  - 상태를 중앙 위치로 이동하고 해당 상태를 수신, 청취 및 업데이트하기위한 엄격한 규칙을 설정하여 상태를보다 예측 가능하게 만드는 기술을 배우게 된다.
- **Lesson 2 - UI + Redux**
  - Redux에서 전적으로 상태를 관리하는 바닐라 JavaScript 애플리케이션을 작성하여 DOM에서 상태를 유지하는 방법을 배운다.
- **Lesson 3 - Redux Middleware**
  - 사용자 정의 미들웨어를 작성하여 Redux store에 추가하는 방법을 배운다. 이 미들웨어를 사용하면 리듀서에 도달하기 전에 조치를 연결하고 가로 채서 상점을 향상시킬 수 있다.
- **Lesson 4 - Redux with React**
  - Redux 애플리케이션에 React를 추가하고 Redux에서 해당 애플리케이션의 상태를 관리하는 방법을 배운다.
- **Lesson 5 - Asynchronous Redux**
  - 사용자 정의 Thunk 미들웨어를 작성하고 이를 상점에 추가하여 비동기 이벤트를 더 잘 추상화하는 방법을 배우게된다.
- **Lesson 6 - react-redux**
  - React와 같은 UI 라이브러리와 Redux와 같은 상태 관리 라이브러리의 이점을 활용하기 위해 반응 리덕스 바인딩을 활용하는 방법을 배운다.
- **Lesson 7 - Real World Redux**
  - 실제 Redux 애플리케이션을 구축하여 Redux에 대해 알고 지식을 활용할 수 있다. 또한 리듀서 구성 및 정규화와 같은 고급 Redux 주제에 대해서도 배운다.





## The Store

당신이 만든 응용 프로그램에 대해 생각해봐라. 앱이 UI와 상태의 두가지로 구성되었을 가능성이 높다. 이제 당신이 가진 버그를 생각해봐라. 문제는 상태 관리 오류로 인해 버그가 발생한 것이다.

응용 프로그램은 상태가 한 가지 일 것으로 기대했다. 그러다 실제로는 달랐다. 컴퓨터가 멈추고 다시 시작해야 할  때, 컴퓨터 내부의 상태가 이상해졌기 때문이다. 다시 시작하면 상태가 재설정된다. 웹 사이트에서 새 알림이 있다고 하면 그것을 클릭하고 새로운 것은 없다. 앱 상태가 잘못 관리 되었기 때문이다.

앞서 말했듯이 이 과정의 목표는 State Management, 더 예측하기 쉬운 앱을 만드는 것이다. 앱의 품질을 향상시키는 가장 좋은 방법 중 하나는 빌드는 애플리케이션에서 상태의 예측 가능성을 향상시키는 것이다.



전통적인 앱은 다음과 같다.

The application's data is sprinkled throughout the app (응용 프로그램의 데이터는 응용 프로그램 전체에 뿌려집니다)



위 이미지에서이 간단한 응용 프로그램의 상태는 다음과 같다.

- 왼쪽의 사이드 바에 이미지가 있습니다
- 메인 영역에는 트랙이 있습니다.
- 각 트랙에는 유지 관리하는 자체 정보가 있습니다.
- 상단에 앱에 새로운 상태를 알려주는 검색 필드가 있습니다 (검색된 아티스트 / 트랙 정보).

그리고 이것은 이 응용 프로그램의 간단한 페이지이다. 사용하는 대부분의 사이트에는 전체 앱의 모든 단일 페이지에 정보가 흩어져 있다.



Redux의 주요 목표는 응용 프로그램의 상태 관리를보다 예측 가능하게 만드는 것입니다. 그것이 어떻게 보일지 보자

`Application data is stored outside of the app and is just referenced by app`

`(애플리케이션 데이터는 앱 외부에 저장되며 앱에서 참조됩니다.)`



이 예에서 앱은 최종 사용자와 완전히 동일하게 보이지만 실제 환경에서는 다르게 작동합니다. 모든 데이터는 UI 코드 외부에 저장되며 UI 코드에서 참조됩니다.

이와 같이 변경하면 데이터를 모두 수정해야하는 경우 모든 데이터가 한 곳에 있으며 한 번만 변경하면됩니다. 그런 다음 데이터 조각을 참조하는 앱 영역이 소스가 변경되어 업데이트됩니다.



최근에 작업한 앱의 아키텍처를 상상해봐라. 이제 해당 애플리케이션의 모든 상태를 상상해봐라.

State는 어디에 있었는가? State는 전체 앱에 뿌려졌다. 이것이 반드시 나쁜 것은 아니나 다른 접근법을 제안하고 싶다. 이 과정의 목표는 State를 보다 예측 가능하게 만드는 방법을 배우는 것이다.

전체 앱에 뿌려지는게 아니라 한 곳(단일 위치에 적용하기 위한 모든 state 존재)에 모두 있다면 어떨까? 

이렇게 하기위해 실제로 우리에게 어려운 점이 있는가? 우선 시작하려면 애플리케이션의 여러 부분에서 공유 상태를 개선해야 한다. 일반적으로 앱의 두 부분이 동일한 데이터에 의존하는 경우 각자 자신의 데이터 사본이 있는 경우 동기화를 유지하기 위해 많은 까다로운 작업을 수행해야 한다. 이것은 우리 모두가 한 순간에 느꼈던 고통의 지점이다. 프로필 아래에서 아바타를 변경한 다음 새 게시물을 작성해라. 예전 아바타가 새 게시물에 사용되었다는 것을 알아냈다.

모든 state가 한 곳에 있다면, 이 문제를 완전히 피하고 앱의 각 섹션이 필요하기 때문에 데이터를 복제하지 않고 한 위치에서 데이터를 참조한다. 우리에게 또 다른 혜택과 가장 중요한 혜택 더 예측 가능한 상태변경은 주의해야 한다. 모든 주가 한 곳에 있다면, 상태를 업데이트하여 보다 예측 가능한 상태로 만드는 방법에 대한 엄격한 규칙을 설정할 수 있다. 이제 우리의 모든 상태를 단일 위치에 두는 개념을 설명하겠다. 이것을 `State Tree`라고 한다.



### State Tree

Redux의 핵심 요점 중 하나는 모든 데이터가 State Tree라는 단일 객체에 저장된다는 것이다. 그러나 State Tree는 실제로 어떻게 생겼을까?

```js
{
  recipes: [
    { … },
    { … },
    { … }
  ],
  ingredients: [
    { … },
    { … },
    { … },
    { … },
    { … },
    { … }
  ],
  products: [
    { … },
    { … },
    { … },
    { … }
  ]
}
```

이 가상의 요리 사이트에 대한 모든 데이터가 단일 객체에 어떻게 저장되는지 보이는가? 따라서 이 사이트의 모든 상태(또는 "애플리케이션 데이터")는 하나의 단일 위치에 저장된다. 이것이 "상태 트리"라고 할 때의 의미이다. 단일 객체에 저장된 모든 데이터일 뿐이다.

이 과정에서 응용 프로그램의 "상태 트리"를 참조 할 때마다이 개념을 전달하기 위해 삼각형을 사용한다.



이제 우리는 모든 것을 state tree라는 단일 위치에 넣기로 결정했다. 다음으로 알아내야 할 것은 실제로 상호 작용하는 방식이다. 실제로 상태 트리를 사용하여 실제 응용 프로그램을 구축하려는 경우 우리가 인터페이스 해야 할 세가지 방법이 있다. 

- 우리는 상태를 얻는 방법이 필요하다. 
- 상태가 바뀔 때 들을 수 있는 방법이 필요하다.
- 상태를 업데이트하는 방법이 필요하다.



The store라는 단일 개념으로 포장해보자.



### Summary

이 레슨에서는 애플리케이션의 데이터를 살펴 보았다. 기존 앱에서는 데이터가 UI 및 마크 업과 혼합되어 있음을 알았다. 이로 인해 한 위치에서 상태를 업데이트해도 모든 위치에서 상태가 업데이트되지 않는 찾기 어려운 버그가 발생할 수 있다.

우리는 Redux가 제공하고자하는 주요 목표는 예측 가능한 상태 관리라는 것을 배웠다. Redux가 이를 수행하는 방법은 단일 상태 트리를 사용하는 것이다. 이 상태 트리는 응용 프로그램의 전체 상태를 저장하는 객체이다. 이제 모든 상태가 한 위치에 저장되었으므로 상호 작용하는 세 가지 방법을 발견했다.

1. getting the state
2. listening for changes to the state
3. updating the state

그런 다음 위의 세 항목과 상태 트리 개체 자체를 상점이라고하는 하나의 단위로 결합한다. 다음 레슨에서 이 상점을 작성하는 방법을 살펴 보겠다.