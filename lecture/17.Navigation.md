# Navigation



## Introduction

ì´ë²ˆ ê³¼ì •ì—ì„œëŠ” routingì— ëŒ€í•œ ëª¨ë“  ê²ƒì„ ë°°ìš´ë‹¤. ìš°ë¦¬ê°€ í•™ìŠµí•  routerëŠ” react navigationì´ë‹¤. ì™œëƒí•˜ë©´ Facebookì€ React Nativeì˜ ê³µì‹ ë¼ìš°íŒ… ì†”ë£¨ì…˜ì´ê¸° ë•Œë¬¸ì´ë‹¤. native routingì€ web routingê³¼ ì™„ì „íˆ ë‹¤ë¥¸ íŒ¨ëŸ¬ë‹¤ì„ì´ë‹¤. 

ì›¹ì—ì„œ ë¼ìš°íŒ… í•  ë•Œ, ì¼ë°˜ì ìœ¼ë¡œ í•˜ëŠ” ì¼ì€ URLì„ íŠ¹ì • componentì— ë§¤í•‘í•˜ëŠ” ê²ƒì´ë‹¤. 

Nativeì—ì„œëŠ” URLì„ componentì— ë§¤í•‘í•˜ëŠ” ëŒ€ì‹ , RouterëŠ” route stackì„ ì¶”ì í•œë‹¤.

ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê²½ë¡œë¥¼ íƒìƒ‰í• ë•Œ routerëŠ” route stackì—ì„œ ê²½ë¡œë¥¼ pushí•˜ê³  popí•œë‹¤.

![image-20200411205606449](C:\Users\ì •ìˆ˜ì§€\AppData\Roaming\Typora\typora-user-images\image-20200411205606449.png)

ì´ ìƒˆë¡œìš´ íŒ¨ëŸ¬ë‹¤ì„ì„ ì†Œê°œí•˜ê¸° ìœ„í•´ react Navigation, tab Navigation APIë¥¼ ì‚´í´ë³´ê² ë‹¤.





## Tab Navigator

> ğŸ’¡React Navigation v2ğŸ’¡
>
> ì´ ê³¼ì •ì˜ ë¹„ë””ì˜¤ëŠ” React Navigation v1ì„ ë‹¤ë£¹ë‹ˆë‹¤. ìµœê·¼ì— React Navigationì˜ ì—…ë°ì´íŠ¸ ë²„ì „ì´ ë¦´ë¦¬ìŠ¤ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ ë‘ ë²„ì „ì˜ ì£¼ìš” ì°¨ì´ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ë²„ì „ 1ì— ëŒ€í•œ ì„¤ëª…ì„œëŠ” [Here](https://reactnavigation.org/blog)ì— ìˆìœ¼ë©° ë²„ì „ 2ì— ëŒ€í•œ ì„¤ëª…ì„œëŠ” [here](https://reactnavigation.org/)ì— ìˆìŠµë‹ˆë‹¤. npmê³¼ í•¨ê»˜ ì œê³µë˜ëŠ” ê¸°ë³¸ ë²„ì „ì€ v2ì´ë¯€ë¡œ v1ì„ ì‚¬ìš©í•˜ë ¤ë©´ package.json íŒŒì¼ì—ì„œ í•´ë‹¹ ë²„ì „ì„ ì§€ì •í•´ì•¼í•©ë‹ˆë‹¤.



[ì¬ í•™ìŠµ ì‹œ ì°¸ê³ ](https://youtu.be/SfdRg-bMfLc)

`react-native`ë¥¼ ìœ„í•œ routing libraryì¸ `react-navigation`ì— ëŒ€í•œ ì†Œê°œë¥¼ ì‚´í´ë³´ê² ë‹¤.

`react-navigation`ì€ ê¸°ë³¸ì ìœ¼ë¡œ `TabNavitator`, `StackNavigator`, `DrawerNavigator`ì˜ íƒìƒ‰ê¸°ë¥¼ ì œê³µí•œë‹¤. Navigatorë¥¼ ì‚¬ìš©í•˜ë©´ ì‘ìš© í”„ë¡œê·¸ë¨ì˜ íƒìƒ‰ êµ¬ì¡°ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤. 

- `TabNavitator` : ì•±ì˜ ì• ë’¤ë¡œ ì „í™˜í•  ìˆ˜ ìˆëŠ” íƒ­

```react
const Tabs = TabNavigator({
    Home: {
        screen: Home,
        navigationOptions: {
            tabBarIcon: () => <FontAwesome name='home' size={30} color='black' />
        }
    },
    Dashboard: {
        screen: Dashboard,
        navigationOptions: {
            tabBarIcon: () => <FontAwesome name='dashboard' size={30} color='black' />
        }
    }    
})

export default class App extends React.Component {
    render() {
        return (
        	<View style={styles.container}>
                <Tabs />
            </View>
        )
    }
}
```



- `StackNavigator`

- `DrawerNavigator`



### Tab Navigator v1

`TabNavigator`ë¥¼ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìëŠ” ë‹¤ë¥¸ êµ¬ì„± ìš”ì†Œë¥¼ ë Œë”ë§í•˜ëŠ” íƒ­ì„ ëˆ„ë¥´ê¸°ë§Œí•˜ë©´ ì‘ìš© í”„ë¡œê·¸ë¨ ë‚´ì—ì„œ ë‹¤ë¥¸ í™”ë©´ì„ íƒìƒ‰ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.



### Tab Navigator v2

`createBottomTabNavigator`ë¥¼ ìœ„í•´ `TabNavigator`ëŠ” ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. `createMaterialTopTabNavigator` ë° `createMaterialBottomTabNavigator`ë„ `Android` ì˜µì…˜ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `createBottomTabNavigator`ëŠ” `animationEnabled` ë° `swipeEnabled` ì†ì„±ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

Tab Navigator v2ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ ë´…ì‹œë‹¤.

```react
const Hello = () => (
  <View>
    <Text>Hello!</Text>
  </View>
);

const Goodbye = () => (
  <View>
    <Text>Goodbye!</Text>
  </View>
);
```

ì‚¬ìš©ìê°€ ì„ íƒí•  ìˆ˜ìˆëŠ” ë‘ ê°œì˜ íƒ­ (í•˜ë‚˜ëŠ” ë Œë”ë§, ë‹¤ë¥¸ í•˜ë‚˜ëŠ” ë Œë”ë§ ì‘ë³„)ì„ ì¶”ê°€í•˜ë ¤ë©´ ë¨¼ì €  `react-navigation` ì„ ì„¤ì¹˜ í•œ ë‹¤ìŒ `createBottomTabNavigator`ë¥¼ ê°€ì ¸ì™€ì•¼í•©ë‹ˆë‹¤.

```
yarn add react-navigation
```

or

```bash
npm install --save react-navigation
```

```react
import { createBottomTabNavigator } from 'react-navigation';
```

ì´ ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ê°ì²´ë¥¼ `createBottomTabNavigator`ì— ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
const Tabs = createBottomTabNavigator({
  Hello: {
    screen: Hello
  },
  Goodbye: {
    screen: Goodbye
  },
});
```

ê°œì²´ ë‚´ì—ì„œ ê° í‚¤ì™€ ê°’ ìŒì€ ë‹¨ì¼ íƒ­ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. í‚¤ëŠ” íƒ­ ì´ë¦„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì´ê²ƒì€ ì‚¬ìš©ìê°€ë³´ê³  ëˆ„ë¥¼ ê²ƒì…ë‹ˆë‹¤. screen ì†ì„±ë„ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì€ íƒ­ì´ í™œì„±í™” ë  ë•Œ ë Œë”ë§ë˜ëŠ” êµ¬ì„± ìš”ì†Œì…ë‹ˆë‹¤.

í¥ë¯¸ë¡œìš´ ë¶€ë¶„ì´ ìˆìŠµë‹ˆë‹¤. `createBottomTabNavigator`ê°€ ë°˜í™˜í•˜ëŠ” ê²ƒì€ ì‹¤ì œë¡œ êµ¬ì„± ìš”ì†Œì…ë‹ˆë‹¤! ì´ê²ƒì„ `Tabs` ë³€ìˆ˜ì— ì €ì¥í–ˆìœ¼ë¯€ë¡œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì´ê²ƒì„ ë Œë”ë§ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
// App.js

// ...

export default class App extends React.Component {
  render() {
    return (
      <Tabs />
    );
  }
}
```



ì´ì œ ì§ì ‘ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì ìš©í•´ë³´ì

```bash
$ yarn add react-navigation
```



`createTabNavigator`ëŠ” ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ëŒ€ì‹  `createBottomTabNavigator` ë° `/` ë˜ëŠ” `createMaterialTopTabNavigator`ë¥¼ ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤.



ìš°ì„  í˜„ì¬ ë²„ì „ì´ ì—…ê·¸ë ˆì´ë“œ ë˜ì–´ ì ìš©í•  ìˆ˜ëŠ” ì—†ì§€ë§Œ ê°•ì˜ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì•˜ë‹¤.

- `App.js`

```react
import React from 'react'
import { View, Platform } from 'react-native'
import AddEntry from './components/AddEntry'
import { createStore } from 'redux'
import { Provider } from 'react-redux'
import reducer from './reducers'
import History from './components/History'
import { TabNavigator } from 'react-navigation'
import { white, purple } from './utils/colors'
import { FontAwesome, Ionicons } from '@expo/vector-icons'

const Tabs = TabNavigator({
  History: {
    screen: History,
    navigationOptions: {
      tabBarLabel: 'History',
      tabBarIcon: ({ tintColor }) => <Ionicons name='ios-bookmarks' size={30} color={tintColor} />
    },
  },
  AddEntry: {
    screen: AddEntry,
    navigationOptions: {
      tabBarLabel: 'Add Entry',
      tabBarIcon: ({ tintColor }) => <FontAwesome name='plus-square' size={30} color={tintColor} />
    },
  }, {
   tabBarOptions: {
      activeTintColor: Platform.OS === 'ios' ? purple : white,
      style: {
          height: 56,
          backgroundColor: Platform.OS === 'ios' ? white : purple,
          shadowColor: 'rgba(0, 0, 0, 0.24)',
          shadowOffset: {
            width: 0,
            height: 3
          },
          shadowRadius: 6,
          shadowOpacity: 1
 	 }
  }   
  }
})

const TabNav = createAppContainer(Platform.OS === 'ios' ? createBottomTabNavigator(Tabs, navigationOptions) : createMaterialTopTabNavigator(Tabs, navigationOptions))

export default class App extends React.Component {
  render() {
    return (
      <Provider store={createStore(reducer)}>
        <View style={{flex: 1}}>
          <Tabs />
        </View>
      </Provider>
    )
  }
}
```



ë‹¤ìŒì€  **react-navigation v3**ì„ ì‚¬ìš©í•˜ê³  ë‹¤ë¥¸ êµ¬ì„± ìš”ì†Œë¥¼ ë§Œë“¤ í•„ìš”ê°€ ì—†ëŠ” ë²„ì „ì´ë‹¤. í•˜ì§€ë§Œ í•´ë‹¹ ë²„ì „ë„ ì´ì „ ë²„ì „ì´ë¼ ì ìš©ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.

```react
import React from 'react'
import { View, Platform } from 'react-native'
import AddEntry from './components/AddEntry'
import { createStore } from 'redux'
import { Provider } from 'react-redux'
import reducer from './reducers'
import History from './components/History'
import { createAppContainer, createBottomTabNavigator, createMaterialTopTabNavigator } from 'react-navigation'
import { white, purple } from './utils/colors'
import { FontAwesome, Ionicons } from '@expo/vector-icons'

const Tabs = {
  History: {
    screen: History,
    navigationOptions: {
      tabBarLabel: 'History',
      tabBarIcon: ({ tintColor }) => <Ionicons name='ios-bookmarks' size={30} color={tintColor} />
    },
  },
  AddEntry: {
    screen: AddEntry,
    navigationOptions: {
      tabBarLabel: 'Add Entry',
      tabBarIcon: ({ tintColor }) => <FontAwesome name='plus-square' size={30} color={tintColor} />
    },
  },
}

const navigationOptions = {
  tabBarOptions: {
    activeTintColor: Platform.OS === 'ios' ? purple : white,
    style: {
      height: 56,
      backgroundColor: Platform.OS === 'ios' ? white : purple,
      shadowColor: 'rgba(0, 0, 0, 0.24)',
      shadowOffset: {
        width: 0,
        height: 3
      },
      shadowRadius: 6,
      shadowOpacity: 1
    }
  }
}

const TabNav = createAppContainer(Platform.OS === 'ios' ? createBottomTabNavigator(Tabs, navigationOptions) : createMaterialTopTabNavigator(Tabs, navigationOptions))

export default class App extends React.Component {
  render() {
    return (
      <Provider store={createStore(reducer)}>
        <View style={{flex: 1}}>
          <TabNav />
        </View>
      </Provider>
    )
  }
}
```



[ì ìš©] ë²„ì „ì— ë§ê²Œ **react-navigation v5**ë¡œ êµ¬í˜„í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼í•œë‹¤.

ì°¸ê³ : [01.react-native start](https://reactnavigation.org/docs/getting-started) [02.react-native tab](https://reactnavigation.org/docs/material-top-tab-navigator/)

```bash
$ npm install @react-navigation/native
$ expo install react-native-gesture-handler react-native-reanimated react-native-screens react-native-safe-area-context @react-native-community/masked-view
$ npm install @react-navigation/material-top-tabs react-native-tab-view
```

- `App.js`

```react
import React from 'react';
import { View, Platform, StatusBar } from 'react-native';
import { createStore } from 'redux';
import { Provider } from 'react-redux';
import reducer from './reducers';

import { NavigationContainer } from '@react-navigation/native';
import { createMaterialTopTabNavigator } from '@react-navigation/material-top-tabs';
import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';

import AddEntry from './components/AddEntry';
import History from './components/History';

import { white, purple } from './utils/colors';
import { FontAwesome, Ionicons } from '@expo/vector-icons';

const Tabs =
  Platform.OS === 'ios'
    ? createBottomTabNavigator()
    : createMaterialTopTabNavigator();

export default function App() {
  return (
    <Provider store={createStore(reducer)}>
      <View style={{ flex: 1 }}>
        <View style={{ height: 40 }} />
        <NavigationContainer>
          <Tabs.Navigator
            initialRouteName="AddEntry"
            screenOptions={({ route }) => ({
              tabBarIcon: () => {
                let icon;
                if (route.name === 'Add Entry') {
                  icon = (
                    <FontAwesome name="plus-square" size={30} color={white} />
                  );
                } else if (route.name === 'History') {
                  icon = (
                    <FontAwesome name="ios-bookmarks" size={30} color={white} />
                  );
                }
                return icon;
              },
            })}
            tabBarOptions={{
              activeTintColor: Platform.OS === 'ios' ? purple : white,
              style: {
                height: 80,
                backgroundColor: Platform.OS === 'ios' ? white : purple,
                shadowColor: 'rgba(0, 0, 0, 0.24)',
                shadowOffset: {
                  width: 0,
                  height: 3,
                },
                shadowRadius: 6,
                shadowOpacity: 1,
              },
            }}
          >
            <Tabs.Screen name="History" component={History} />
            <Tabs.Screen name="AddEntry" component={AddEntry} />
          </Tabs.Navigator>
        </NavigationContainer>
      </View>
    </Provider>
  );
}

```



>What is true about the Tab Navigator? Please select all that apply:
>
>- The return value of `createBottomTabNavigator` is just a component that can be rendered like any other.
>- Tab Navigator is fully customizable.



### StatusBar

ì§€ê¸ˆê¹Œì§€ ìš°ë¦¬ ì‘ìš© í”„ë¡œê·¸ë¨ì€ ì¥ì¹˜ í™”ë©´ ìƒë‹¨ì˜ ìƒíƒœ í‘œì‹œ ì¤„ì„ ì„¤ëª…í•˜ê¸° ìœ„í•´ ì„ì˜ì˜ íŒ¨ë”©ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê³„ì†í•´ì„œ ë³€ê²½í•´ë´…ì‹œë‹¤! React NativeëŠ” ì‹¤ì œë¡œ ìƒíƒœ í‘œì‹œì¤„ì´ ì‘ìš© í”„ë¡œê·¸ë¨ì— í‘œì‹œë˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©ì ì§€ì •í•˜ê¸° ìœ„í•´ ê°„ë‹¨í•œ StatusBar êµ¬ì„± ìš”ì†Œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

`StatusBar`ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ê¸° ì „ì— `react-native`ì—ì„œ ê°€ì ¸ì˜µë‹ˆë‹¤.

```js
import { StatusBar } from 'react-native';
```



```bash
$ expo install expo-constants
```

```react
import Constants from "expo-constants";
```



- `App.js`

```react
{...}
import { View, Platform, StatusBar } from 'react-native';
import { Constants } from 'expo';
 
function UdaciStatusBar({ backgroundColor, ...props }) {
  return (
    <View style={{ backgroundColor, height: Constants.statusBarHeight }}>
      <StatusBar translucent backgroundColor={backgroundColor} {...props} />
    </View>
  );
}
 
{...}

export default function App() {
  return (
    <Provider store={createStore(reducer)}>
      <View style={{ flex: 1 }}>
        <UdaciStatusBar backgroundColor={purple} barStyle="light-content" />
        <Tabs />
      </View>
    </Provider>
  );
}
```

[ì½”ë“œì°¸ê³ ](https://github.com/udacity/reactnd-UdaciFitness-complete/commit/b5a0e8840cbc48486056331cd92399b729700b56)



### Summary

React Navigator v1ì€ `TabNavigator`ë¥¼ ì œê³µí•˜ë©° React Navigator v2ëŠ” ê°œë³„ íƒ­ì„ í†µí•´ ë‹¤ë¥¸ í™”ë©´ ì‚¬ì´ë¥¼ íƒìƒ‰ í•  ìˆ˜ìˆëŠ” `createBottomTabNavigator` APIë¥¼ ì œê³µí•©ë‹ˆë‹¤. ê° íƒ­ì€ íŠ¹ì • êµ¬ì„± ìš”ì†Œë¥¼ ë Œë”ë§í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.

ì´ ì„¹ì…˜ì—ì„œëŠ” React Nativeì˜ `StatusBar` êµ¬ì„± ìš”ì†Œì— ëŒ€í•´ì„œë„ ìì„¸íˆ ì„¤ëª…í•©ë‹ˆë‹¤. `StatusBar`ëŠ” ì‚¬ìš©í•˜ê¸°ê°€ ë¹„êµì  ê°„ë‹¨í•˜ê³  ì™„ì „íˆ ì‚¬ìš©ì ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì†ì„±ì„ ë³€ê²½í•˜ê¸° ìœ„í•´ ì†ì„±ì„ ì„¤ì •í•˜ê¸° ë§Œí•˜ë©´ë©ë‹ˆë‹¤! ë‹¤ìŒìœ¼ë¡œëŠ” ì‚¬ìš©ìê°€ ìŠ¤íƒì—ì„œ í™”ë©´ì„ ì¶”ê°€ ë° ì œê±° í•  ìˆ˜ìˆëŠ” React Navigatorì˜ stack íƒìƒ‰ê¸°ë¥¼ ì‚´í´ ë³´ê² ìŠµë‹ˆë‹¤.

#### Further Research

- [StatusBar props](https://facebook.github.io/react-native/docs/statusbar.html#props) from the React Native docs
- [TabNavigator v1](https://v1.reactnavigation.org/docs/tab-navigator.html) from the React Navigator docs
- [TabNavigator v2](https://reactnavigation.org/docs/en/bottom-tab-navigator.html) from the React Navigator docs





## Stack Navigator

ì´ì œ StackNavigatorë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ì.

```react
import { StackNavigator } from 'react-navigation'

function Home ({ navigation }) {
	<View>
    	<Text>Home View</Text>
        <TouchableOpacity styles={styles.btn} onPress={() => navigation.navigate('Dashboard')}>
            <Text>To Dashboard</Text>
        </TouchableOpacity>
    </View>
}
    
function Dashboard ({ navigation }) {
	{...}
}
    
const Stack = StackNavigator({
    Home: {
        screen: Home,
        navigationOptions: {
            title: 'Home'
        }
    },
    Dashboard: {
		screen: Dashboard,
        navigationOptions: {
            title: 'Dashboard',
            headerTintColor: 'red',
            headerStyle: {
                backgroundColor: 'green'
            }            
        }
	}
})

export default class App extends Component{
    render(){
        return(
        	<View style={{flex:1}}>
            	<Stack/>
            </View>
        )
    }
}
```

React Navigationì˜ ë˜ ì¥ì ì€ ë‹¤ë¥¸ í”Œë«í¼ê°„ì˜ ì°¨ì´ë¥¼ ê³ ë ¤í•œë‹¤ëŠ” ì ì´ë‹¤.



### Stack Navigator v1

index viewì—ì„œ í•­ëª©ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ í•­ëª©ì— ëŒ€í•œ ì„¸ë¶€ ì •ë³´ê°€ ìˆëŠ” new screenìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤. React Navigationì€ ë‹¤ë¥¸ ë„¤ë¹„ê²Œì´í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤. `Stack Navigator`ë¥¼ ì‚¬ìš©í•˜ë©´ ìƒˆ í™”ë©´ì´ stackìœ¼ë¡œ ì¶”ê°€ ë° ì œê±°ë©ë‹ˆë‹¤. ì´ë ‡ê²Œí•˜ë©´ `Array`ì˜ `push()` ë° `pop()` ë©”ì„œë“œì™€ ìœ ì‚¬í•˜ê²Œ í™”ë©´ì´ "ë§ˆì§€ë§‰ ë°©ì‹ìœ¼ë¡œ" ë§ˆì§€ë§‰ì— ë°°ì¹˜ë©ë‹ˆë‹¤.

`StackNavigator`ì˜ ì‚¬ìš©ë²•ì€ `TabNavigator`ì™€ ê±°ì˜ ìœ ì‚¬í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë‹¤ë¥¸ íƒ­ì˜ ê°œì²´ë¥¼ ì „ë‹¬í•˜ëŠ” ëŒ€ì‹  í•´ë‹¹ ìŠ¤íƒì—ì„œ ì‚¬ìš©í•  ìˆ˜ìˆëŠ” ë‹¤ë¥¸ í™”ë©´ì˜ ê°œì²´ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.



### Stack Navigator v2

`StackNavigator`ëŠ” ê¸°ëŠ¥ì ìœ¼ë¡œ ë™ì¼í•˜ì§€ë§Œ êµ¬ì„± ìš”ì†Œë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì„ì„ ëª…í™•í•˜ê²Œ ì „ë‹¬í•˜ëŠ” `createStackNavigator`ë¥¼ ì„ í˜¸í•˜ì—¬ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

 [documentation](https://reactnavigation.org/blog/)ì— ë”°ë¥´ë©´, ìƒˆë¡œìš´ `StackNavigator`ëŠ” ë‹¤ìŒê³¼ ê°™ì´ "ê°•ë ¥í•©ë‹ˆë‹¤".

> pushë¥¼ í˜¸ì¶œ í•  ë•Œë§ˆë‹¤ íƒìƒ‰ ìŠ¤íƒì— ìƒˆ ê²½ë¡œê°€ ì¶”ê°€ë©ë‹ˆë‹¤. navigateë¥¼ í˜¸ì¶œí•˜ë©´ ë¨¼ì € í•´ë‹¹ ì´ë¦„ì˜ ê¸°ì¡´ ê²½ë¡œë¥¼ ì°¾ìœ¼ë ¤ê³  ì‹œë„í•˜ê³  ìŠ¤íƒì— ì•„ì§ì—†ëŠ” ê²½ìš°ì—ë§Œ ìƒˆ ê²½ë¡œë¥¼ í‘¸ì‹œí•©ë‹ˆë‹¤. [Each time you call push we add a new route to the navigation stack. When you call `navigate`, it first tries to find an existing route with that name, and only pushes a new route if there isn't yet one on the stack.](https://reactnavigation.org/docs/en/navigating.html)

> ì‹¤ì œë¡œ ë‹¤ë¥¸ ì„¸ë¶€ ì •ë³´ í™”ë©´ì„ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤. ì´ê²ƒì€ ê³ ìœ í•œ ë°ì´í„°ë¥¼ ê° ê²½ë¡œì— ì „ë‹¬í•˜ëŠ” ê²½ìš°ì— ë§¤ìš° ì¼ë°˜ì ì…ë‹ˆë‹¤ (ë‚˜ì¤‘ì— ë§¤ê°œ ë³€ìˆ˜ì— ëŒ€í•´ ì´ì•¼ê¸° í•  ë•Œ ë” ìì„¸íˆ ì„¤ëª…í•©ë‹ˆë‹¤!). ì´ë¥¼ ìœ„í•´ ìš°ë¦¬ëŠ” push to pushë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê¸°ì¡´ ë‚´ë¹„ê²Œì´ì…˜ ê¸°ë¡ì— ê´€ê³„ì—†ì´ ë‹¤ë¥¸ ê²½ë¡œë¥¼ ì¶”ê°€í•˜ë ¤ëŠ” ì˜ë„ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.[Let's suppose that we actually *want* to add another details screen. This is pretty common in cases where you pass in some unique data to each route (more on that later when we talk about `params`!). To do this, we can change `navigate` to `push`. This allows us to express the intent to add another route regardless of the existing navigation history.](https://reactnavigation.org/docs/en/navigating.html)

React Navigation v2ì˜ Stack Navigatorë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ ë´…ì‹œë‹¤. 

ë¨¼ì € `react-navigation`ì—ì„œ import `createStackNavigator`ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

```react
import { createStackNavigator } from 'react-navigation';
```

Homeê³¼ Dashboardë¼ëŠ” ë‘ ê°€ì§€ ê¸°ë³¸ êµ¬ì„± ìš”ì†Œê°€ ìˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.

```js
const Home = ({ navigation }) => (
  <View>
    <Text>This is the Home view</Text>
    <TouchableOpacity onPress={() => navigation.navigate('Dashboard')}>
      <Text>Press here for the Dashboard</Text>
    </TouchableOpacity>
  </View>
);

const Dashboard = () => (
  <View>
    <Text>This is the Dashboard</Text>
  </View>
);
```

 `navigation` propì€ stateless functional `Home` componentë¡œ ì „ë‹¬ë˜ì–´ ë‹¤ë¥¸ ê²½ë¡œë¡œ ë‚´ë¹„ê²Œì´ì…˜ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì‘ì—…ì´ ì™„ë£Œë˜ë©´ `createBottomTabNavigator`ì™€ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ ê°ì²´ë¥¼ `createStackNavigator`ì— ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
const Stack = createStackNavigator({
  Home: {
    screen: Home
  },
  Dashboard: {
    screen: Dashboard
  }
})
```

ê°ì²´ë¥¼ createStackNavigatorì— ì „ë‹¬í•  ë•Œì˜ ë°˜í™˜ ê°’ë„ êµ¬ì„± ìš”ì†Œì´ë¯€ë¡œ ê·¸ëŒ€ë¡œ ë Œë”ë§ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

```js
// App.js

// ...

export default class App extends React.Component {
  render() {
    return (
      <Stack />
    );
  }
}
```

[Stack Navigator](https://reactnavigation.org/docs/en/stack-navigator.html) and [Tab Navigator](https://reactnavigation.org/docs/en/bottom-tab-navigator.html)ëŠ” ì¢…ì¢… í•¨ê»˜ ì‚¬ìš©ë©ë‹ˆë‹¤. ê·¸ê²ƒë“¤ì€ ê°ê° ì»´í¬ë„ŒíŠ¸ë¥¼ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì—, ì¢…ì¢… í•˜ë‚˜ê°€ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ ì•ˆì— ì¤‘ì²©ë˜ì–´ìˆëŠ” ê²ƒì„ ë³´ê²Œ ë  ê²ƒì…ë‹ˆë‹¤. ì´ê²ƒì„ UdaciFitnessì— êµ¬í˜„í•˜ë©´ì„œ ì´ê²ƒì„ ì‹¤ì œë¡œ ë³´ì!



ì´ì œ ìš°ë¦¬ê°€ í•˜ë ¤ëŠ” ê²ƒì€ ì •ë³´ê°€ ê¸°ë¡ë˜ì–´ ìˆëŠ” í•´ë‹¹ ì¼ì ì¹´ë“œë¥¼ ì„ íƒí•˜ë©´ í•´ë‹¹ ì¼ìì˜ ìƒì„¸í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” ì‘ì—…ì„ í•´ë³´ê³ ì í•œë‹¤.

Tabì´ ì•„ë‹Œ íŠ¹ì • ì»¨í…ì¸ ì—ì„œ ìƒì„¸í˜ì´ì§€ê°€ ë“¤ì–´ê°ˆ ê²ƒì´ê¸° ë•Œë¬¸ì— ê²½ë¡œê°€ ê³„ì¸µ êµ¬ì¡°ë¡œ ì´ë£¨ì–´ì§„ë‹¤. ê·¸ë˜ì„œ ì—¬ê¸°ì—ì„œëŠ” `StackNavigator`ê°€ í•„ìš”í•˜ë‹¤.

- `components/EntryDetail.js`

```react
import React, { Component } from 'react';
import { View, Text } from 'react-native';

class EntryDetail extends Component {
  render() {
    return (
      <View>
        <Text>Entry Detail</Text>
      </View>
    );
  }
}

export default EntryDetail;
```

- [ê°•ì˜ ì½”ë“œ] `App.js`

```react
{...}
import { TabNavigator, StackNavigator } from 'react-navigation'
import EntryDetail from './components/EntryDetail';
 
{...}

const MainNavigator = StackNavigator({
    Home: {
        screen: Tabs,
    },
    EntryDetail: {
        screen: EntryDetail,
        navigationOptions: {
            headerTintColor: white,
            headerStyle: {
                backgroundColor: purple,
            }
        }
    }
})

// render(){ return ( ë‚´ <Tabs/> ë¶€ë¶„ì„ ì•„ë˜ ì½”ë“œë¡œ ë³€ê²½
<MainNavigator />
```

[ì½”ë“œ ì°¸ê³ ](https://github.com/udacity/reactnd-UdaciFitness-complete/commit/86af918722052eebafbc2892b6cd772b51a18dd4)

- `History.js`

```react
<TouchableOpacity onPress={() => this.props.navigation.navigate(
    	'EntryDetail',
        { entryId: key }
    )}>
	<MetricCard metrics={metrics} date={formattedDates} />
</TouchableOpacity>
```



ë²„ì „ì´ ë‹¬ë¼ì ¸ App.jsë¥¼ ê°•ì˜ ì½”ë“œë¡œ ì ìš©í•  ìˆ˜ ì—†ë‹¤. ì´ì œëŠ” `StackNavigatior` ë§ê³  `createStackNavigator`ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ì•±ì—ì„œ ê° ìƒˆ í™”ë©´ì´ ìŠ¤íƒ ìœ„ì—ìˆëŠ” í™”ë©´ ê°„ ì „í™˜í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤.

[ê³µì‹ ë¬¸ì„œ ì°¸ê³ ](https://reactnavigation.org/docs/stack-navigator/)

```bash
$ npm install @react-navigation/stack
```

[ê¸°ë³¸ í˜•íƒœ]

```react
import { createStackNavigator } from '@react-navigation/stack';

const Stack = createStackNavigator();

function MyStack() {
  return (
    <Stack.Navigator>
      <Stack.Screen name="Home" component={Home} />
      <Stack.Screen name="Notifications" component={Notifications} />
      <Stack.Screen name="Profile" component={Profile} />
      <Stack.Screen name="Settings" component={Settings} />
    </Stack.Navigator>
  );
}
```



[ì½”ë“œ ì ìš©]

- `App.js`

```react
// import History from './components/History'; ì´ ì½”ë“œë¥¼ ì•„ë˜ ì½”ë“œë¡œ ë³€ê²½
import HistoryStack from './components/HistoryStack';

// <Tabs.Screen name="History" component={History} /> ì´ ì½”ë“œë¥¼ ì•„ë˜ ì½”ë“œë¡œ ë³€ê²½
<Tabs.Screen name="HistoryStack" component={HistoryStack} />
```



- `components/HistoryStack.js`

```react
import React from 'react';
import { createStackNavigator } from '@react-navigation/stack';

import History from './History';
import EntryDetail from './EntryDetail';
import { white } from '../utils/colors';

const Stack = createStackNavigator();

const HistoryStack = () => {
  return (
    <Stack.Navigator
      screenOptions={{
        headerStyle: {
          backgroundColor: white,
        },
      }}
    >
      <Stack.Screen name="History" component={History} />
      <Stack.Screen name="EntryDetail" component={EntryDetail} />
    </Stack.Navigator>
  );
};

export default HistoryStack;
```



> What is true about the Stack Navigator? Please select all that apply:
>
> - Stack Navigator animations render differently in Android and iOS.
> - Similar to the Tab Navigator, the Stack Navigator can also leverage `navigationOptions`
>
> Stack NavigatorëŠ” ì¼ì„ ë‹¨ìˆœí•˜ê²Œ ìœ ì§€í•˜ì§€ë§Œ ë¯¿ì„ ìˆ˜ ì—†ì„ë§Œí¼ ê°•ë ¥í•©ë‹ˆë‹¤. ê°ì²´ ë‚´ì—ì„œ ëª¨ë“  í™”ë©´ì„ ì •ì˜í•˜ê³  createStackNavigatorì— ì „ë‹¬í•˜ë©´ ë Œë”ë§ í•  ìˆ˜ìˆëŠ” êµ¬ì„± ìš”ì†Œê°€ ë°˜í™˜ë©ë‹ˆë‹¤!



> ê²€ìƒ‰ ê²°ê³¼ [í•´ë‹¹ ì˜ìƒ](https://youtu.be/nQVCkqvU1uE)ì—ì„œ v5ì—ì„œ `createStackNavigator`ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•´ ìƒˆë¡œìš´ ë°©ì‹ìœ¼ë¡œ ì ìš©í•´ë³´ì•˜ìœ¼ë‚˜, `HistoryStackScreen(...):Noting was returned from render`ë¼ëŠ” ì˜¤ë¥˜ì™€ í•¨ê»˜ ë‹¤ìŒë‹¨ê³„ë¥¼ ì§„í–‰í•  ìˆ˜ ì—†ì—ˆìŒ.
>
> ```react
> import React from 'react';
> import { View, Platform, StatusBar } from 'react-native';
> import { createStore } from 'redux';
> import { Provider } from 'react-redux';
> import reducer from './reducers';
> 
> import { NavigationContainer } from '@react-navigation/native';
> import { createMaterialTopTabNavigator } from '@react-navigation/material-top-tabs';
> import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';
> import { createStackNavigator } from '@react-navigation/stack';
> 
> import AddEntry from './components/AddEntry';
> import History from './components/History';
> // import HistoryStack from './components/HistoryStack';
> import EntryDetail from './components/EntryDetail';
> 
> import { white, purple } from './utils/colors';
> import { FontAwesome, Ionicons } from '@expo/vector-icons';
> 
> const Tabs =
>   Platform.OS === 'ios'
>     ? createBottomTabNavigator()
>     : createMaterialTopTabNavigator();
> 
> const HistoryStack = createStackNavigator();
> 
> const HistoryStackScreen = () => {
>   <HistoryStack.Navigator initialRouteName="History">
>     <HistoryStack.Screen name="History" component={History} />
>     <HistoryStack.Screen name="EntryDetail" component={EntryDetail} />
>   </HistoryStack.Navigator>;
> };
> 
> export default function App() {
>   return (
>     <Provider store={createStore(reducer)}>
>       <View style={{ flex: 1 }}>
>         <View style={{ height: 40 }} />
>         <NavigationContainer>
>           <Tabs.Navigator
>             initialRouteName="AddEntry"
>             screenOptions={({ route }) => ({
>               tabBarIcon: () => {
>                 let icon;
>                 if (route.name === 'AddEntry') {
>                   icon = (
>                     <FontAwesome name="plus-square" size={30} color={white} />
>                   );
>                 } else if (route.name === 'History') {
>                   icon = (
>                     <FontAwesome name="ios-bookmarks" size={30} color={white} />
>                   );
>                 }
>                 return icon;
>               },
>             })}
>             tabBarOptions={{
>               activeTintColor: Platform.OS === 'ios' ? purple : white,
>               style: {
>                 height: 80,
>                 backgroundColor: Platform.OS === 'ios' ? white : purple,
>                 shadowColor: 'rgba(0, 0, 0, 0.24)',
>                 shadowOffset: {
>                   width: 0,
>                   height: 3,
>                 },
>                 shadowRadius: 6,
>                 shadowOpacity: 1,
>               },
>             }}
>           >
>             <Tabs.Screen name="History" component={HistoryStackScreen} />
>             <Tabs.Screen name="AddEntry" component={AddEntry} />
>           </Tabs.Navigator>
>         </NavigationContainer>
>       </View>
>     </Provider>
>   );
> }
> 
> ```
>
> React Navigationì€ ë‚´ë¹„ê²Œì´ì…˜ ì²˜ë¦¬ì— ì¤‘ì ì„ ë‘ì–´ì•¼í•˜ê¸° ë•Œë¬¸ì— í™”ë©´ì˜ ì´ë²¤íŠ¸ì™€ ë¡œì§ì€ í™”ë©´ êµ¬ì„± ìš”ì†Œì—ì„œ ì²˜ë¦¬í•´ì•¼í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
>
> ìœ„ì˜ ë§ì— ì˜í•´ íŒŒì•…í•œ ë¬¸ì œëŠ” Navigation ì²˜ë¦¬ë§Œ ì´ë£¨ì–´ì§€ê¸° ë•Œë¬¸ì— History.js ë‚´ë¶€ì— componentDidMountê°€ ì‹¤í–‰ë˜ì§€ ì•Šì•„ ì •ë³´ë¥¼ ì½ì–´ì˜¤ì§€ ëª»í•œë‹¤ëŠ” ê²ƒì´ë‹¤.



ì „í™˜ëœ í™”ë©´ ì¶”ê°€ì ìœ¼ë¡œ ê¾¸ë¯¸ê¸°

- `History.js`

```react
import React from 'react';
import { createStackNavigator } from '@react-navigation/stack';

import History from './History';
import EntryDetail from './EntryDetail';

import { white } from '../utils/colors';

const Stack = createStackNavigator();

const HistoryStack = () => {
  return (
    <Stack.Navigator
      initialRouteName="History"
      headerMode="none"
      screenOptions={{
        headerStyle: {
          backgroundColor: white,
        },
      }}
    >
      <Stack.Screen name="History" component={History} />
      <Stack.Screen
        name="EntryDetail"
        component={EntryDetail}
        options={({ route }) => {
          return {
            title: route.params.entryId,
          };
        }}
      />
    </Stack.Navigator>
  );
};

export default HistoryStack;
```



- `EntryDetail.js`

```react
import React, { Component } from 'react';
import { View, Text, StyleSheet } from 'react-native';
import { connect } from 'react-redux';
import MetricCard from './MetricCard';
import { white } from '../utils/colors';

class EntryDetail extends Component {
  render() {
    const { metrics } = this.props;
    return (
      <View style={styles.container}>
        <MetricCard metrics={metrics} />
        <Text>
          Entry Detail -{' '}
          {/* {JSON.stringify(this.props.navigation.state.params.entryId)} */}
        </Text>
      </View>
    );
  }
}

function mapStateToProps(state, { route }) {
  const { entryId } = route.params;

  return {
    entryId,
    metrics: state[entryId],
  };
}

export default connect(mapStateToProps)(EntryDetail);

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: white,
    padding: 15,
  },
});

```

[ì½”ë“œ ì°¸ê³ ](https://github.com/tiagofsanchez/Udacity_UdaciFitness/commit/d75ba9127ad18f127c2f95aab60764a9a25b97c8)



ë”ì´ìƒ ì´ ê°•ì˜ë¥¼ ë“¤ìŒì´ ì˜ë¯¸ê°€ ì—†ë‹¤ëŠ” íŒë‹¨ì´ ë“¤ì—ˆë‹¤. í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° ê³µì‹ë¬¸ì„œë¥¼ í†µí•´ ë³„ë„ë¡œ í•™ìŠµí•´ì•¼í•  ê²ƒ ê°™ë‹¤.



## Lesson Summary

React Navigationì„ í†µí•œ Routingì„ ë°°ì› ë‹¤. 

Tab Navigatorë¥¼ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ ê°œì˜ íƒ­ì´ ìˆëŠ” í™”ë©´ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

Stack NavigatorëŠ” ê° ìƒˆ í™”ë©´ì´ Stack ìœ„ì— ë°°ì¹˜ë˜ëŠ” í™”ë©´ ê°„ ì „í™˜ì„ í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤.

Drawer NavigatorëŠ” Drawer Navigationìœ¼ë¡œ í™”ë©´ì„ ì‰½ê²Œ ì„¤ì •í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ Nestingí•˜ëŠ” ë°©ë²•ì„ ë°°ì› ë‹¤. ë‹¤ë¥¸ Navigatorê°€ í•„ìš”í•œ ê²½ìš° Routing Flowë¥¼ ì–»ëŠ”ë‹¤.

ë‹¤ìŒì—ëŠ” ê¸°ë³¸ ê¸°ëŠ¥ì„ í™•ì¥í•˜ì—¬ ì•±ì˜ ê¸°ëŠ¥ì„ í™•ì¥í•˜ëŠ” ë°©ë²•ì„ ë°°ìš¸ ê²ƒì´ë‹¤.